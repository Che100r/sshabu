---
GlobalOptions:

  LogLevel: VERBOS
  ForwardAgent: true
  PasswordAuthentication: yes

Groups:
  - Name: group1
    Options:
      User: user1
      IdentityFile: /path/to/key1
    Subgroups:
     - Name: host1

    Hosts:
      - Name: host1
        HostName: host1.example.com
        AddKeysToAgent:
        AddressFamily:

  - Name: group2
    Groups:
      - Name: subgroup1
        Hosts:
          - Name: host3
            HostName: host3.example.com
            User: user3
            IdentityFile: /path/to/key3
            Port: 2222

hosts:
  - Name: host2
    HostName: host2.example.com
    User: user2
    IdentityFile: /path/to/key2
    Port: 2222

  - Name: host2
    Hostname: host2.example.com
    User: user2
    IdentityFile: /path/to/key2
    Port: 2222
    

# match_conditions:
#   - condition: Host host1.example.com
#     settings:
#       PasswordAuthentication: no

#   - condition: User user1
#     settings:
#       Port: 2222
